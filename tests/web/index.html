<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>aws-jwt-verify</title>
  </head>
  <body>
    <script type="module">
      import { CognitoJwtVerifier } from "./dist/web/bundle.js";

      // Verifier that expects valid access tokens:
      const verifier = CognitoJwtVerifier.create({
        userPoolId: "eu-west-1_cfE3x56oc",
        tokenUse: "access",
        clientId: "42knffvu5cujtrs02u4ec0aegs",
      });

      try {
        const payload = await verifier.verify(
          "eyJraWQiOiJhYnY4N2R4N2l5Y1p5MnNmVGNXT1I1UWZjeDNxRGZEQmxBbFdqM20zR093PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIxZjcxYTdiNC0zNDE3LTQwZGMtOWNkMC00OWI1NWJlMmQwN2QiLCJjb2duaXRvOmdyb3VwcyI6WyJ0ZXN0MyIsImV1LXdlc3QtMV9jZkUzeDU2b2NfR29vZ2xlIl0sInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4gaHR0cHM6XC9cL2FwaS5vdHRvLWF3cy5jb21cL2hlbGxvXC9yZWFkIHBob25lIG9wZW5pZCBwcm9maWxlIGVtYWlsIiwiYXV0aF90aW1lIjoxNjQ1NzIwNjI2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9jZkUzeDU2b2MiLCJleHAiOjE2NDU3MjQyMjYsImlhdCI6MTY0NTcyMDYyNywidmVyc2lvbiI6MiwianRpIjoiNmQyZWYzYzctZDljNC00NmU0LWFiOTQtODY4MDUzYjM4YjIzIiwiY2xpZW50X2lkIjoiNDJrbmZmdnU1Y3VqdHJzMDJ1NGVjMGFlZ3MiLCJ1c2VybmFtZSI6Ikdvb2dsZV8xMTI4Njk4MzY0MDI5MzgyNDQ2NzYifQ.HSzsF09giTnsDalCnKjH6v6xTzKiepkPLRfyVftBK64Di9g9mVheMYjr8W9j5N4pYp0ptQ1yYK_0o0FHlb-8pJgGoEJbyhRluv_CSiGvgZwxDCfE09xJfOqCooOdgQiRAVwNPFfnV10meQhhJrYB2-TgUNx6h9TkDtS36jWnBXCVigKP2tg4T1XgGgpeBO75qTsVts7Qn6sSalJS7uDdyPQOhvTAEb1IEiu4tu5PelnEmZbWZMEK_VkSfrSk-tnYL29h0vXvrk7S1v0XTE_L03ORv9wrGgU9b6BojQW3kKB48it_yrRQhKFEFmoIBOuGqlwarhDcDFkjGioGgNg_wA" // the JWT as string
        );
        console.log("Token is valid. Payload:", payload);
      } catch (err) {
        console.log("Token not valid!", err);
      }
      // Will throw:
      verifier.verifySync(
        "eyJraWQiOiJhYnY4N2R4N2l5Y1p5MnNmVGNXT1I1UWZjeDNxRGZEQmxBbFdqM20zR093PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIxZjcxYTdiNC0zNDE3LTQwZGMtOWNkMC00OWI1NWJlMmQwN2QiLCJjb2duaXRvOmdyb3VwcyI6WyJ0ZXN0MyIsImV1LXdlc3QtMV9jZkUzeDU2b2NfR29vZ2xlIl0sInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4gaHR0cHM6XC9cL2FwaS5vdHRvLWF3cy5jb21cL2hlbGxvXC9yZWFkIHBob25lIG9wZW5pZCBwcm9maWxlIGVtYWlsIiwiYXV0aF90aW1lIjoxNjQ1NzIwNjI2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9jZkUzeDU2b2MiLCJleHAiOjE2NDU3MjQyMjYsImlhdCI6MTY0NTcyMDYyNywidmVyc2lvbiI6MiwianRpIjoiNmQyZWYzYzctZDljNC00NmU0LWFiOTQtODY4MDUzYjM4YjIzIiwiY2xpZW50X2lkIjoiNDJrbmZmdnU1Y3VqdHJzMDJ1NGVjMGFlZ3MiLCJ1c2VybmFtZSI6Ikdvb2dsZV8xMTI4Njk4MzY0MDI5MzgyNDQ2NzYifQ.HSzsF09giTnsDalCnKjH6v6xTzKiepkPLRfyVftBK64Di9g9mVheMYjr8W9j5N4pYp0ptQ1yYK_0o0FHlb-8pJgGoEJbyhRluv_CSiGvgZwxDCfE09xJfOqCooOdgQiRAVwNPFfnV10meQhhJrYB2-TgUNx6h9TkDtS36jWnBXCVigKP2tg4T1XgGgpeBO75qTsVts7Qn6sSalJS7uDdyPQOhvTAEb1IEiu4tu5PelnEmZbWZMEK_VkSfrSk-tnYL29h0vXvrk7S1v0XTE_L03ORv9wrGgU9b6BojQW3kKB48it_yrRQhKFEFmoIBOuGqlwarhDcDFkjGioGgNg_wA"
      );
    </script>
    <p>Let's verify some JWTs!</p>
  </body>
</html>
